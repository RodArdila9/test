<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario de Peticiones</title>
  <script src="https://cdn.tailwindcss.com"></script>


</head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formulario de Peticiones</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&display=swap">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
  /* Estilos para el div "alerta" */
  .alerta {
    font-family: Red Hat Display;
    margin: 0;
    padding: 16px 48px 32px 48px;
    background-color: #ffffff;
    border: 1px solid #ccc;
    width: 635px;
    margin: 0 auto;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    border-radius: 15px;
    display: none;
    /* Ocultar el div por defecto */
  }

  .alerta.activo {
    display: block;
    /* Mostrar el div cuando se active */
  }

  /* Estilos para el título */
  .alerta h1 {
    text-align: center;
    font-size: 25px;
    margin-bottom: 10px;
    font-weight: bold;
  }

  /* Estilos para el contenido */
  .alerta p {
    text-align: center;
    line-height: 1.5;
    margin-bottom: 10px;
  }

  /* Estilos para el container con datos */
  .datos_cliente {
    display: flex;
    /* Habilitar Flexbox */
    flex-direction: row;
    /* Disponer elementos en fila */
    justify-content: space-around;
    /* Distribuir espacio entre elementos */
    align-items: center;
    /* Alinear elementos verticalmente al centro */
    gap: 8px;
    /* Agregar espacio entre elementos */
  }

  /* Estilos para el datos del container */
  .dato {
    background-color: #f5f8ff;
    /* Color de fondo */
    border: 1px solid #c0d4ff;
    /* Color de borde */
    padding: 10px;
    /* Agregar relleno alrededor */
    border-radius: 7px;
    /* Agregar borde redondeado */
  }

  /* Estilos que modifican el tamaño de las filas para los datos suministrados */
  .dato:first-child {
    flex: 0.9;
  }

  .dato:nth-child(2) {
    flex: 1.4;
  }

  .dato:nth-child(3) {
    flex: 0.7;
  }

  /* Estilos para el botón de cerrar */
  .alerta .boton-cerrar {
    font-weight: bold;
    display: inline-block;
    padding: 12px 24px;
    background-color: #00369c;
    color: #fff;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    margin: 0 auto;
    width: fit-content;
    display: flex;
  }

  /* Estilos para el contenedor del check verde */
  .contenedor-check {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 20px 0px 10px 0px;
  }

  /* Medidas de la imagen del check */
  .contenedor-check img {
    width: 80px;
    height: 80px;
  }

  /* Estilo aplicado para las línea que separan los segmento */
  .separador-segmento {
    width: 100%;
    /* Ancho completo del formulario */
    height: 0.5px;
    /* Altura de la línea */
    background-color: #dddddd;
    /* Color de la línea */
    margin-top: 30px;
    /* Margen superior */
    margin-bottom: 30px;
    /* Margen inferior */
  }


  /* Estilos para modificar el input file */
  /* Contenedor del custom file upload */
  .custom-file-upload {
    position: relative;
    display: flex;
    /* Usar flexbox para alinear elementos */
    border: 1px solid #D1D5DB;
    /* Borde gris claro */
    border-radius: 7px;
    /* Esquinas ligeramente redondeadas */
    cursor: pointer;
    /* Cambiar el cursor a mano al pasar el cursor */
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    /* Sombra del container */
  }

  /* Input file oculto */
  .file-input {
    width: 100%;
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1;
    cursor: pointer;
    height: 100%;
  }

  /* Texto que muestra el nombre del archivo seleccionado */
  .file-name {
    display: block;
    margin: 8px;
    font-size: 14px;
  }

  /* Modifica el color de criticidad mediante class */
  .modificar-color {
    color: #B1B0B0;
  }

  /* Modifica el color de los select, los hace similares a placholders */
  .color-select {
    color: #D1D5DB;
  }

  .option-with-value {
    color: #374151;
  }

  /* Estilo para la opacidad de la pantalla al desplegar el Pop Up*/
  #opacidad {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    display: none;
  }
</style>
</head>

<body class="bg-gray-100 p-8">

  <div id="formulario" class="max-w-6xl mx-auto p-6 bg-white shadow-xl rounded-xl"
    style="font-family: Red Hat Display;">
    <div class="rounded-t-xl" style="background-color: #f5f8ff; margin: -24px -24px 0px -24px;">
      <h2 class="text-2xl font-semibold mb-2 pt-6 pl-6">Peticiones, quejas, reclamos, sugerencias o felicitaciones</h2>
      <h3 class="text-mb font-normal mb-5 pb-5 pl-6">Completa el formulario para registrar la petición del usuario.</h3>
    </div>

    <!-- Alerta al momento de Enviar el formulario -->
    <div class="alerta" id="miAlerta">
      <div class="contenedor-check">
        <img
          src="https://static.vecteezy.com/system/resources/previews/017/350/123/original/green-check-mark-icon-in-round-shape-design-png.png"
          alt="Check verde">
      </div>
      <h1>PQRSF creada</h1>
      <p>La PQRSF contiene los siguientes datos que podrás<br>suministrarle al cliente:</p>
      <div class="datos_cliente">
        <div id="fechaPQRSF" class="dato">Fecha de creación<br><small><i><b>Cargando...</b></i></small></div>
        <div id="idPQRSF" class="dato">ID<br><small><i><b>Cargando...</b></i></small></div>
        <div class="dato">ANS<br><b>15 días hábiles</b></div>
      </div>
      <br>
      <span class="boton-cerrar" onclick="cerrarAlerta()">Entendido</span>
    </div>

    <form onsubmit="validarFormulario(event)" id="form-validation" novalidate>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div class="flex">
          <div class="flex-grow w-48">
            <label for="tipoPersona" class="text-sm font-medium text-gray-700">Tipo de usuario</label>
            <select required id="tipoPersona" onchange="checkOption()" required name="tipoPersona"
              class="color-select flex-grow w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
              <option value="" selected disabled hidden>Selecciona una opción</option>
              <option value="Cliente">Cliente</option>
              <option value="Marcas Aliadas">Marcas Aliadas</option>
              <option value="Otro">Otro usuario</option>
            </select>
          </div>
          <div id="entidad_solicitante" class="hidden flex-grow w-full pl-2">
            <label for="entidad_solicitanteList" class="block text-sm font-medium text-gray-700">Entidad
              solicitante</label>
            <select id="entidad_solicitanteList" onchange="checkentidadOption()" name="entidad_solicitanteList"
              class="color-select mt-1 flex-grow w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300"
              required>
              <option value="" selected disabled hidden> Selecciona una opción</option>
              <option value="Datacrédito">Datacrédito</option>
              <option value="Fiscalía">Fiscalía</option>
              <option value="Juzgado">Juzgado</option>
              <option value="Policía Nacional">Policía Nacional</option>
              <option value="Procrédito">Procrédito</option>
              <option value="Procuraduría">Procuraduría</option>
              <option value="SIC">SIC</option>
              <option value="TransUnion">TransUnion</option>
              <option value="Otro">Otro</option>
              <option value="Cliente" hidden>Cliente</option>
              <option value="Almacén Aliado" hidden>Almacén Aliado</option>
            </select>
            <div class="flex-grow w-full pt-2">
              <input type="text" id="otraentidad" placeholder="¿Cuál?" name="otraentidad"
                class="mt-1 hidden w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300"
                required>
            </div>
          </div>
        </div>

        <div id="Segmento_Campo" style="display: none;">
          <label for="segmento" class="block text-sm font-medium text-gray-700">Segmento</label>
          <div>
            <select id="segmento" required name="segmento" id="segmento"
              class="color-select mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
              <option value="" selected disabled hidden>Selecciona una opción</option>
              <option value="Sin Asignar">Sin Asignar</option>
              <option value="Siste Top">Siste Top</option>
              <option value="Siste Premium">Siste Premium</option>
              <option value="Sisteplus">Sisteplus</option>
              <option value="Sisteclientes">Sisteclientes</option>
            </select>
          </div>
        </div>

        <div>
          <label for="Producto" class="block text-sm font-medium text-gray-700">Producto</label>
          <select id="Producto" required name="Producto"
            class="color-select mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
            <option value="" selected disabled hidden>Selecciona una opción</option>
            <option value="Sistecrédito">Sistecrédito</option>
            <option value="SistePagos">SistePagos</option>
            <option value="SistePay">SistePay</option>
            <option value="LuegoPago">LuegoPago</option>
            <option value="Sistetiendas">Sistetiendas</option>
            <option value="Sistepass">Sistepass</option>
          </select>
        </div>

        <div>
          <label for="canal" class="block text-sm font-medium text-gray-700">Canal</label>
          <select id="canal" required onchange="checkCanalOption()" name="canal"
            class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
            <option value="Almacén">Almacén</option>
            <option value="App">App</option>
            <option value="Asesor comercial">Asesor comercial</option>
            <option value="Chatbot">Chatbot</option>
            <option value="Correo">Correo</option>
            <option value="Llamada">Llamada</option>
            <option value="Oficina de Sistecrédito">Oficina de Sistecrédito</option>
            <option value="Página web">Página web</option>
            <option value="Redes Sociales">Redes Sociales</option>
            <option value="WhatsApp">WhatsApp</option>
            <option value="Otro">Otro</option>
          </select>

          <div id="otroCanal" style="display: none;">
            <input type="text" id="otroCanalInput" placeholder="¿Cuál?" name="otroCanal"
              class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300"
              required>
          </div>
        </div>
      </div>

      <div class="separador-segmento"></div>
      <!-- Final del Primer Segmento -->

      <p id="informacion_cliente" class="text-mb font-semibold mb-4">Información del usuario</p>
      <p id="informacion_aliado" class="text-mb hidden font-semibold mb-4">Información del usuario</p>
      <p id="informacion_otro" class="text-mb hidden font-semibold mb-4">Información del usuario</p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div class="grid grid-cols-1">
          <label for="tipoDocumento" class="w-full block text-sm font-medium text-gray-700">Documento de
            identidad</label>
          <div class="grid grid-cols-6 gap-1">
            <select id="tipoDocumento" required onchange="checktipodocOption()" name="tipoDocumento"
              class="color-select p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
            </select>
            <input type="text" required id="documento" placeholder="Ingresa un número" pattern=".{6,}" name="documento"
              class="col-span-5 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
            <p id="Información_NIT" class="col-span-6 text-xs" style="display: none;">Ingresa un número sin código de
              verificación</p>
          </div>
        </div>

        <div id="nombre_campo" style="display: block;">
          <label for="nombre" class="block text-sm font-medium text-gray-700">Nombre completo</label>
          <div>
            <input type="text" id="nombre" required style="width: 100%;" placeholder="Ingresa tu nombre" name="nombre"
              class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
          </div>
        </div>
        <div id="Razon_social_campo" style="display: none;">
          <label for="Razon_social" class="block text-sm font-medium text-gray-700">Razón social</label>
          <div>
            <input type="text" id="Razon_social" required style="width: 100%;" placeholder="Ingresa un nombre"
              name="Razon_social"
              class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
          </div>
        </div>

        <div id="Nombre_almacen_campo" style="display: none;">
          <label for="Nombre_almacen" class="block text-sm font-medium text-gray-700">Nombre del almacén</label>
          <div>
            <input type="text" id="Nombre_almacen" required style="width: 100%;" placeholder="Ingresa un nombre"
              name="Nombre_almacen"
              class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
          </div>
        </div>

        <div class="grid grid-cols-1">
          <label for="phone" class="block text-sm font-medium text-gray-700">Número de celular</label>
          <div class="grid grid-cols-5 gap-1">
            <select id="Pais" name="Pais" style="background-color:#F3F3F3; border-color: #585656; font-weight: 500;"
              required
              class="mt-1  w-full p-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
              <option value="+57-">Col (+57)</option>
            </select>
            <input type="text" id="phone" pattern="3[0-9]{9}" placeholder="Ingresa un número" maxlength="10" required
              name="phone"
              class="col-span-4 mt-1  w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
          </div>
        </div>

        <div id="divCorreo">
          <label for="Correo" class="block text-sm font-medium text-gray-700">Correo electrónico</label>
          <div>
            <input type="text" id="Correo" name="Correo" required style="width: 100%;"
              placeholder="Ingresa un correo electrónico" pattern="[A-Za-z0-9._\-]+@[A-Za-z]+\.[a-z]{2,4}$"
              class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
          </div>
        </div>

        <div>
          <label for="Departamento" class="block text-sm font-medium text-gray-700">Departamento</label>
          <select id="Departamento" onchange="checkDepartamentoOption()" name="Departamento"
            class="color-select mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300"
            required>
            <option value="" selected disabled hidden>Selecciona una opción</option>
            <option value="Bogotá D.C.">Bogotá D.C.</option>
            <option value="Amazonas">Amazonas</option>
            <option value="Antioquia">Antioquia</option>
            <option value="Arauca">Arauca</option>
            <option value="Atlántico">Atlántico</option>
            <option value="Bolívar">Bolívar</option>
            <option value="Boyacá">Boyacá</option>
            <option value="Caldas">Caldas</option>
            <option value="Caquetá">Caquetá</option>
            <option value="Casanare">Casanare</option>
            <option value="Cauca">Cauca</option>
            <option value="Cesar">Cesar</option>
            <option value="Choco">Chocó</option>
            <option value="Córdoba">Córdoba</option>
            <option value="Cundinamarca">Cundinamarca</option>
            <option value="Guainía">Guainía</option>
            <option value="Guaviare">Guaviare</option>
            <option value="Huila">Huila</option>
            <option value="La Guajira">La Guajira</option>
            <option value="Magdalena">Magdalena</option>
            <option value="Meta">Meta</option>
            <option value="Nariño">Nariño</option>
            <option value="Norte De Santander">Norte de Santander</option>
            <option value="Putumayo">Putumayo</option>
            <option value="Quindío">Quindío</option>
            <option value="Risaralda">Risaralda</option>
            <option value="Archipiélago De San Andrés">San Andrés y Providencia</option>
            <option value="Santander">Santander</option>
            <option value="Sucre">Sucre</option>
            <option value="Tolima">Tolima</option>
            <option value="Valle Del Cauca">Valle del Cauca</option>
            <option value="Vaupés">Vaupés</option>
            <option value="Vichada">Vichada</option>
          </select>
        </div>

        <div>
          <label for="Ciudad" class="block text-sm font-medium text-gray-700">Ciudad</label>
          <select id="Ciudad" name="Ciudad"
            class="color-select mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300"
            required>
            <option value="" selected disabled hidden>Selecciona una opción</option>
          </select>
        </div>
      </div>

      <div class="separador-segmento"></div>
      <!-- Final del Segundo Segmento -->

      <p class="text-mb font-semibold mb-4">Información de la PQRSF</p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div>
          <label for="tipoPQRSF" class="block text-sm font-medium text-gray-700">Tipo de PQRSF</label>
          <select id="tipoPQRSF" onchange="checktipopqrsfOption()" name="tipoPQRSF"
            class="color-select mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300"
            required>
            <option value="" selected disabled hidden>Selecciona una opción</option>
            <option value="Felicitación">Felicitación</option>
            <option value="Petición">Petición</option>
            <option value="Queja">Queja</Queja>
            <option value="Reclamo">Reclamo</option>
            <option value="Sugerencia">Sugerencia</option>
          </select>
        </div>

        <div class="grid grid-cols-1">
          <label for="Motivo" class="block text-sm font-medium text-gray-700">Motivo</label>
          <div class="grid grid-cols-7 gap-1">
            <select id="Motivo" required name="Motivo" onchange="checkMotivoOption()"
              class="col-span-5 color-select mt-1  w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
              <option value="">Selecciona una opción</option>
            </select>
            <label for="criticidad" class="mt-1 w-full p-2 sm:text-sm font-medium modificar-color">Criticidad:</label>
            <span style="display: none;" id="criticidad_Alta" class="mt-1 p-2 sm:text-sm font-medium"> <i
                class="fa-solid fa-circle fa-xs" style="color: #CF3339;"></i> Alta</span>
            <span style="display: none;" id="criticidad_Media" class="mt-1 p-2 sm:text-sm font-medium"> <i
                class="fa-solid fa-circle fa-xs" style="color: #FF6C0E;"></i> Media</span>
            <span style="display: none;" id="criticidad_Baja" class="mt-1 p-2 sm:text-sm font-medium"> <i
                class="fa-solid fa-circle fa-xs" style="color: #3EC92B;"></i> Baja</span>
          </div>
        </div>

        <div style="display: none;">
          <label for="Proceso_responsable" class="block text-sm font-medium text-gray-700">Proceso responsable</label>
          <select id="Proceso_responsable" name="Proceso_responsable"
            class="mt-1 inline w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
            <option value="">Selecciona una opción</option>
            <option value="Gestión Aliados">Gestión Aliados</option>
            <option value="Gestión Legal">Gestión Legal</option>
            <option value="Soporte Clientes ">Soporte Clientes</option>
            <option value="Cliente Final">Cliente Final</option>
          </select>
        </div>

        <div id="Aliado_Involucrado" style="display: none;">
          <label for="Aliado_Involucrado" class="block text-sm font-medium text-gray-700">Aliado involucrado <span
              class="font-light" style="font-size: 11px;">(opcional)</span> </label>
          <div>
            <input type="text" id="Aliado_Involucrado" style="width: 100%;" placeholder="Ingresa el nombre del aliado"
              name="Aliado_Involucrado"
              class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
          </div>
        </div>

        <div id="Agente_Involucrado" style="display: none;">
          <label for="Agente_Involucrado" class="block text-sm font-medium text-gray-700">Agente involucrado <span
              class="font-light" style="font-size: 11px;">(opcional)</span> </label>
          <div>
            <input type="text" id="Agente_Involucrado" style="width: 100%;" placeholder="Ingresa el nombre del agente"
              name="Agente_Involucrado"
              class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300">
          </div>
        </div>

        <div id="Carga_Archivo" class="flex-grow w-full col-span-2">
          <label for="file-upload" class="block text-sm font-medium text-gray-700">Evidencias del caso <span
              class="font-light" style="font-size: 11px;">(opcional)</span> </label>
          <div class="custom-file-upload">
            <input id="file-upload" name="file-upload" multiple type="file"
              accept=".pdf, .pptx, .csv, .txt, .doc, .docx, .xls, .xlsx, .jpeg, .png, .gif, .bmp, .tiff, .svg"
              class="file-input" onchange="updateFileName()">
            <span id="file-name" class="file-name text-gray-300" style="position: relative; padding-left: 1px;">Subir
              archivo aquí </span>
            <i style="font-size:20px; position: absolute; right: 0; top: 50%; transform: translateY(-50%); margin-right: 8px; color: #00369c;"
              class="fas fa-paperclip"></i>
          </div>
          <p class="text-gray-500 text-xs mt-2">Extensiones permitidas: jpg, png, doc, docx, xls, xlsx, pdf, ppt, pptx,
            tif y tiff.</p>
        </div>

        <input type="text" id="agente" class="hidden">
        <input type="text" id="Criticidad" name="Criticidad" class="hidden">
        <input type="text" id="filename" name="filename" class="hidden">
      </div>

      <!-- Campo de Carga de Archivos -->

      <!-- Campo de Descripcion -->
      <div class="flex items-start mb-4">
        <div class="flex-1">
          <label for="description" class="block text-sm font-medium text-gray-700">Descripción</label>
          <textarea id="description" required name="description" placeholder="Escribe tu mensaje aquí" rows="4"
            class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300"></textarea>
        </div>
      </div>

      <div class="separador-segmento"></div>
      <!-- Final del Tercer Segmento -->

      <!-- Estado de la PQRSF en caso de tener cierre en primer contacto -->
      <p class="text-mb font-semibold mb-4">Gestión de la PQRSF</p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div id="Primer_Contacto" class="flex-grow w-full col-span-2">
          <label for="Estado" class="block text-sm font-medium text-gray-700">¿Cerraste la PQRSF en primer
            contacto?</label>
          <select id="Estado" onchange="checkestadoOption()" name="Estado"
            class="color-select mt-1 flex-grow w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
            required>
            <option value="" selected disabled hidden>Selecciona una opción</option>
            <option value="Si">Si</option>
            <option value="No">No</option>
          </select>
        </div>

        <div id="CanalSolucion_campo" class="hidden flex-grow w-full">
          <label for="CanalSolucion" class="block text-sm font-medium text-gray-700">Canal de solución</label>
          <select id="CanalSolucion" name="CanalSolucion"
            class="color-select mt-1 flex-grow w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
            required>
            <option value="" selected disabled hidden>Selecciona una opción</option>
            <option value="Llamada">Llamada</option>
            <option value="Chat">Chat</option>
            <option value="Correo">Correo</option>
            <option value="Físico">Físico</option>
          </select>
        </div>

        <div id="Solucion_campo" class="hidden flex-grow w-full col-span-2">
          <div>
            <label for="Solucion" class="block text-sm font-medium text-gray-700">Ingresa la solución a la PQRSF</label>
            <textarea id="Solucion" name="Solucion" placeholder="Escribe tu mensaje aquí" rows="4" required
              class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300"></textarea>
          </div>
        </div>
      </div>


      <!-- Procedencia de la PQRSF -->
      <div>
        <div>
          <label for="Procedencia" class="block text-sm font-medium text-gray-700">Procedencia</label>
          <p id="Razón_Cliente" class="block text-gray-700 text-xs">¿El cliente tiene la razón?</p>
          <select id="Procedencia" name="Procedencia"
            class="color-select mt-2 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm placeholder-gray-300"
            required>
            <option value="" selected disabled hidden>Selecciona una opción</option>
            <option value="Si la tiene">Si la tiene</option>
            <option value="No la tiene">No la tiene</option>
          </select>
        </div>
      </div>
      <p><br> </p>
      <div class="flex justify-end">
        <button type="submit"
          class="inline-flex items-center px-8 py-2 border border-transparent text-sm font-medium shadow-sm text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
          style="background-color:#00369c; border-radius:30px;">Registrar</button>
      </div>
    </form>
  </div>
  <div id="opacidad"></div> <!-- Div que genera opacidad al momento de ejecutar la alerta -->


  <script>
    async function fileToDataUri(file) {
      return new Promise((resolve) => {
        const reader = new FileReader();

        reader.addEventListener(
          "load",
          () => {
            resolve(reader.result);
          },
          false
        );

        reader.readAsDataURL(file);
      });
    }

    async function submitForm(event) {
      event.preventDefault();

      const formData = new FormData(event.target);
      console.log(formData);
      const rawPayload = Object.fromEntries(formData.entries());
      console.log(rawPayload);

      const evidencias = await Promise.all(
        Array.from(event.target.querySelector("input[type=file]").files).map(
          (file) => fileToDataUri(file)
        )
      );

      console.log(
        Array.from(event.target.querySelector("input[type=file]").files)
      );

      const payload_token = {
        AuthFlow: "USER_PASSWORD_AUTH",
        AuthParameters: {
          PASSWORD: "respug-2vIqgi-cawpum",
          USERNAME: "sistecredito-api"
        },
        ClientId: "1152ebdi1nvll94epb1q8d7qo1"
      };
      console.log(payload_token);
      const body_token = JSON.stringify(payload_token);
      console.log(body_token);

      const response_token = await fetch(
        `https://cognito-idp.sa-east-1.amazonaws.com/`,
        {
          method: "POST",
          headers: {
            "Accept": "application/json",
            "X-Amz-Target": "AWSCognitoIdentityProviderService.InitiateAuth",
            "Content-Type": "application/x-amz-json-1.1"
          },
          body: body_token,
        }
      ).then((nextResponse) =>
        nextResponse.ok
          ? Promise.resolve(nextResponse.json())
          : Promise.reject(new Error("Something went wrong"))
      );
      console.log(response_token);
      const idToken = response_token.AuthenticationResult.IdToken;
      console.log(idToken);

      const payload = {
        tipo_usuario: rawPayload.tipoPersona,
        segmento: rawPayload.segmento,
        tipo_canal: rawPayload.canal,
        otro_canal: rawPayload.otroCanal,
        tipo_producto: rawPayload.Producto,
        raised_by: rawPayload.agente,
        //raised_by: "infosys@information.com",
        departamento: rawPayload.Departamento,
        ciudad: rawPayload.Ciudad,
        tipo_documento: rawPayload.tipoDocumento,
        numero_documento: rawPayload.documento,
        nombre_completo: rawPayload.nombre,
        nombre_razon_social: rawPayload.Razon_social,
        almacen: rawPayload.Nombre_almacen,
        numero_celular: rawPayload.Pais + rawPayload.phone,
        correo_electronico: rawPayload.Correo,
        tipo_pqrsf: rawPayload.tipoPQRSF,
        motivo: rawPayload.Motivo,
        criticidad: rawPayload.Criticidad,
        procedencia: rawPayload.Procedencia,
        descripcion: rawPayload.description,
        proceso_interno: rawPayload.Proceso_responsable,
        agente_involucrado: rawPayload.Agente_Involucrado,
        aliado_involucrado: rawPayload.Aliado_Involucrado,
        entidad_solicitante: rawPayload.entidad_solicitanteList,
        evidencias: evidencias,
        otro_entidad: rawPayload.otraentidad,
        solucion: rawPayload.Solucion,
        cierre_primer_contacto: rawPayload.Estado,
        solucion_canal: rawPayload.CanalSolucion,
        filename: rawPayload.filename,
      };
      console.log(payload);
      const body = JSON.stringify(payload);
      console.log(body);

      const response = await fetch(
        `https://jysw022bm6.execute-api.sa-east-1.amazonaws.com/api/pqrsfs`,
        {
          method: "POST",
          headers: {
            "Authorization": `Bearer ${idToken}`,
            "Accept": "application/json",
            "Content-Type": "application/json"
          },
          body: body,
        }
      ).then((nextResponse) =>
        nextResponse.ok
          ? Promise.resolve(nextResponse.json())
          : Promise.reject(new Error("Something went wrong"))
      );

      const idAPI = response.body.ID;
      const idPQRSF = document.getElementById('idPQRSF');
      idPQRSF.innerHTML = `ID<br><b>${idAPI}</b>`;

      const fechaAPI = response.body.Fecha_Creacion;
      const fechaPQRSF = document.getElementById('fechaPQRSF');
      fechaPQRSF.innerHTML = `Fecha de creación<br><b>${fechaAPI}</b>`;
    }
  </script>



  <script>
    // Captura de parámetros de la URL
    const urlParams = new URLSearchParams(window.location.search);
    const Documento = urlParams.get('Documento');
    const Telefono = urlParams.get('Telefono');
    const Canal = urlParams.get('Canal');
    const Nombre = urlParams.get('Nombre');
    const Agente = urlParams.get('Agente');
    const Razon_social = "";
    const Nombre_almacen = "";
    /* const Criticidad = ""; */


    // Asignación de valores a los campos del formulario si existen en la URL
    document.getElementById("documento").value = Documento || '';
    document.getElementById("phone").value = Telefono || '';
    document.getElementById("canal").value = Canal;
    document.getElementById("nombre").value = Nombre || '';
    document.getElementById("agente").value = Agente || '';



    // Función para habilitar campos acorde con la seleccion del tipo de persona
    function checkOption() {
      const tipoPersona = document.getElementById("tipoPersona").value;
      if (tipoPersona === 'Otro') {
        document.getElementById("entidad_solicitante").classList.remove("hidden");
      } else {
        document.getElementById("entidad_solicitante").classList.add("hidden");
      }


      const segmentoSelect = document.getElementById("segmento");
      segmentoSelect.innerHTML = '';

      if (tipoPersona === "Marcas Aliadas") {
        document.getElementById("Segmento_Campo").style.display = "none";
        const options = ["Selecciona una opción", "Supertop", "Top", "Medium", "Bottom", "Low", "Sin Asignar"];

        // Crear la primera opción con los atributos deseados
        const opcionPredeterminada = document.createElement('option');
        opcionPredeterminada.value = '';
        opcionPredeterminada.innerHTML = 'Selecciona una opción';
        opcionPredeterminada.selected = true;
        opcionPredeterminada.disabled = true;
        opcionPredeterminada.hidden = true;
        segmentoSelect.appendChild(opcionPredeterminada);

        // Crear el resto de las opciones
        options.slice(1).forEach(option => { // Slice para omitir la primera opción
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
        document.getElementById("informacion_cliente").classList.add("hidden");
        document.getElementById("informacion_aliado").classList.remove("hidden");
        document.getElementById("informacion_otro").classList.add("hidden");
        document.getElementById("entidad_solicitanteList").value = "Almacén Aliado";

      } else if (tipoPersona === "Cliente") {
        document.getElementById("Segmento_Campo").style.display = "none";
        const options = ["Selecciona una opción", "Siste Top", "Siste Premium", "Sisteplus", "Sisteclientes", "Sin Asignar"];

        // Crear la primera opción con los atributos deseados
        const opcionPredeterminada = document.createElement('option');
        opcionPredeterminada.value = '';
        opcionPredeterminada.innerHTML = 'Selecciona una opción';
        opcionPredeterminada.selected = true;
        opcionPredeterminada.disabled = true;
        opcionPredeterminada.hidden = true;
        segmentoSelect.appendChild(opcionPredeterminada);

        // Crear el resto de las opciones
        options.slice(1).forEach(option => { // Slice para omitir la primera opción
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
        document.getElementById("informacion_cliente").classList.remove("hidden");
        document.getElementById("informacion_aliado").classList.add("hidden");
        document.getElementById("informacion_otro").classList.add("hidden");
        document.getElementById("entidad_solicitanteList").value = "Cliente";

      } else if (tipoPersona === "Otro") {
        document.getElementById("Segmento_Campo").style.display = "none";
        document.getElementById("segmento").value = "Sin Asignar";
        document.getElementById("informacion_cliente").classList.add("hidden");
        document.getElementById("informacion_aliado").classList.add("hidden");
        document.getElementById("informacion_otro").classList.remove("hidden");

      } else {
        document.getElementById("Segmento_Campo").style.display = "none";
        document.getElementById("segmento").value = "Sin Asignar";
        document.getElementById("informacion_cliente").classList.remove("hidden");
        document.getElementById("informacion_aliado").classList.add("hidden");
        document.getElementById("informacion_otro").classList.add("hidden");
      }


      const tipopersonaselect = document.getElementById("tipoDocumento");
      tipopersonaselect.innerHTML = '';
      if (tipoPersona === "Marcas Aliadas") {
        const options = ["NIT", "CC", "CE", "PEP"];
        const values = ["NIT", "Cédula de ciudadanía", "Cédula extranjería", "PEP"];
        options.forEach((option, index) => {
          const opt = document.createElement('option');
          opt.value = values[index];
          opt.innerHTML = option;
          tipopersonaselect.appendChild(opt);
        });
        tipopersonaselect.classList.remove("color-select");
      } else if (tipoPersona === "Cliente") {
        const options = ["CC", "CE", "PEP"];
        const values = ["Cédula de ciudadanía", "Cédula extranjería", "PEP"];
        options.forEach((option, index) => {
          const opt = document.createElement('option');
          opt.value = values[index];
          opt.innerHTML = option;
          tipopersonaselect.appendChild(opt);
        });
        tipopersonaselect.classList.remove("color-select");
      } else if (tipoPersona === "Otro") {
        const options = ["Tipo", "CC", "NIT", "CE", "PEP"];
        const values = ["", "Cédula de ciudadanía", "NIT", "Cédula extranjería", "PEP"];
        options.forEach((option, index) => {
          const opt = document.createElement('option');
          opt.value = values[index];
          opt.innerHTML = option;
          if (option === "Tipo") {
            opt.selected = true;
            opt.disabled = true;
            opt.hidden = true;
          }
          tipopersonaselect.appendChild(opt);
        });
        tipopersonaselect.classList.add("color-select");
        cambiarColorSelects();
      } else {
        const opt = document.createElement('option');
        opt.value = "";
        opt.innerHTML = "Tipo";
        tipopersonaselect.appendChild(opt);
      };

      if (tipoPersona === 'Marcas Aliadas' || (tipoPersona === 'Otro' && tipoDocumento === 'NIT')) {
        document.getElementById("Información_NIT").style.display = "block";
        document.getElementById("Razon_social_campo").style.display = "block";
        document.getElementById("Nombre_almacen_campo").style.display = "block";
        document.getElementById("nombre_campo").style.display = "none";
        document.getElementById("nombre").value = "";
      } else {
        document.getElementById("Información_NIT").style.display = "none";
        document.getElementById("Razon_social_campo").style.display = "none";
        document.getElementById("Nombre_almacen_campo").style.display = "none";
        document.getElementById("Razon_social").value = "";
        document.getElementById("Nombre_almacen").value = "";
        document.getElementById("nombre_campo").style.display = "block";
      }
      limpiarCamposSeguntipoPersona();
    }



    // Función para habilitar campos acorde con la seleccion del tipo del Estado
    function checkestadoOption() {
      const tipoestado = document.getElementById("Estado").value;
      if (tipoestado === 'Si') {
        document.getElementById("Solucion_campo").classList.remove("hidden");
        document.getElementById("CanalSolucion_campo").classList.remove("hidden");
        document.getElementById("Primer_Contacto").classList.remove("col-span-2");
      } else {
        document.getElementById("Solucion_campo").classList.add("hidden");
        document.getElementById("CanalSolucion_campo").classList.add("hidden");
        document.getElementById("Primer_Contacto").classList.add("col-span-2");
        document.getElementById("Solucion").value = "";
        document.getElementById("CanalSolucion").selectedIndex = 0;
        agregarClaseDinamica("CanalSolucion");
        cambiarColorSelects();
      }
    }

    // Función para habilitar campos acorde con la seleccion del tipo de Documento
    function checktipodocOption() {
      const tipoDocumento = document.getElementById("tipoDocumento").value;
      if (tipoDocumento === 'NIT') {
        document.getElementById("Razon_social_campo").style.display = "block";
        document.getElementById("Nombre_almacen_campo").style.display = "block";
        document.getElementById("Información_NIT").style.display = "block";
        document.getElementById("nombre").value = "";
        document.getElementById("nombre_campo").style.display = "none";
      } else {
        document.getElementById("Razon_social").value = "";
        document.getElementById("Nombre_almacen").value = "";
        document.getElementById("Razon_social_campo").style.display = "none";
        document.getElementById("Nombre_almacen_campo").style.display = "none";
        document.getElementById("Información_NIT").style.display = "none";
        document.getElementById("nombre_campo").style.display = "block";
      }
    }

    // Función para habilitar campo de texto si se selecciona la opción "Otro" en la lista desplegable de Canal
    function checkCanalOption() {
      const canal = document.getElementById("canal").value;
      if (canal === 'Otro') {
        document.getElementById("otroCanal").style.display = "block";
      } else {
        document.getElementById("otroCanal").style.display = "none";
      }
    }




    // Función para habilitar campo de texto si se selecciona la opción "Otro" en la lista desplegable de Entidad Solicitante
    function checkentidadOption() {
      const entidad_solicitanteList = document.getElementById("entidad_solicitanteList").value;
      if (entidad_solicitanteList === 'Otro') {
        document.getElementById("otraentidad").classList.remove("hidden");
      } else {
        document.getElementById("otraentidad").classList.add("hidden");
      }
      limpiarCamposSegunEntidadSolicitante();
    }



    // Llenar la lista desplegable de Ciudad según la opción seleccionada en Departamento
    function checkDepartamentoOption() {
      const Departamento = document.getElementById("Departamento").value;
      const segmentoSelect = document.getElementById("Ciudad");
      segmentoSelect.innerHTML = '';

      // Agregar opción predeterminada cuando se selecciona un departamento
      const opcionPredeterminada = document.createElement('option');
      opcionPredeterminada.value = '';
      opcionPredeterminada.innerHTML = 'Selecciona una opción';
      opcionPredeterminada.selected = true;
      opcionPredeterminada.disabled = true;
      opcionPredeterminada.hidden = true;
      segmentoSelect.appendChild(opcionPredeterminada);

      if (Departamento === "Amazonas") {
        const options = ["El Encanto", "La Chorrera", "La Pedrera", "La Victoria", "Leticia", "Mirití - Paraná", "Puerto Alegría", "Puerto Arica", "Puerto Nariño", "Puerto Santander"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Antioquia") {
        const options = ["Abejorral", "Abriaquí", "Alejandría", "Amaga", "Amalfi", "Andes", "Angelópolis", "Angostura", "Anorí", "Anzá", "Apartadó", "Arboletes", "Argelia", "Armenia", "Barbosa", "Bello", "Belmira", "Betania", "Betulia", "Briceño", "Buriticá", "Cáceres", "Caicedo", "Caldas", "Campamento", "Cañasgordas", "Caracolí", "Caramanta", "Carepa", "Carmen De Viboral", "Carolina", "Caucasia", "Chigorodó", "Cisneros", "Ciudad Bolívar", "Cocorná", "Concepción", "Concordia", "Copacabana", "Dabeiba", "Don Matías", "Ebéjico", "El Bagre", "Entrerríos", "Envigado", "Fredonia", "Frontino", "Giraldo", "Girardota", "Gómez Plata", "Granada", "Guadalupe", "Guarne", "Guatapé", "Heliconia", "Hispania", "Itagüí", "Ituango", "Jardín", "Jericó", "La Ceja", "La Estrella", "La Pintada", "La Unión", "Liborina", "Maceo", "Marinilla", "Medellín", "Montebello", "Murindó", "Mutatá", "Nariño", "Nechí", "Necoclí", "Olaya", "Peñol", "Peque", "Pueblorrico", "Puerto Berrio", "Puerto Nare", "Puerto Triunfo", "Remedios", "Retiro", "Rionegro", "Sabanalarga", "Sabaneta", "Salgar", "San Andrés", "San Carlos", "San Francisco", "San Jerónimo", "San José De La Montaña", "San Juan De Urabá", "San Luis", "San Pedro", "San Pedro De Urabá", "San Rafael", "San Roque", "San Vicente", "Santa Barbara", "Santa Rosa De Osos", "Santafé De Antioquia", "Santo Domingo", "Santuario", "Segovia", "Sonsón", "Sopetrán", "Támesis", "Tarazá", "Tarso", "Titiribí", "Toledo", "Turbo", "Uramita", "Urrao", "Valdivia", "Valparaíso", "Vegachí", "Venecia", "Vigía Del Fuerte", "Yalí", "Yarumal", "Yolombó", "Yondó", "Zaragoza"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Arauca") {
        const options = ["Arauca", "Arauquita", "Cravo Norte", "Fortul", "Puerto Rondón", "Saravena", "Tame"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Atlántico") {
        const options = ["Baranoa", "Barranquilla", "Campo De La Cruz", "Candelaria", "Galapa", "Juan De Acosta", "Luruaco", "Malambo", "Manatí", "Palmar De Varela", "Piojó", "Polonuevo", "Ponedera", "Puerto Colombia", "Repelón", "Sabanagrande", "Sabanalarga", "Santa Lucia", "Santo Tomas", "Soledad", "Suan", "Tubará", "Usiacurí"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Bolívar") {
        const options = ["Achí", "Altos Del Rosario", "Arenal", "Arjona", "Arroyo hondo", "Barranco De Loba", "Calamar", "Cantagallo", "Carmen De Bolívar", "Cartagena", "Cicuco", "Clemencia", "Córdoba", "El Guamo", "El Peñón", "Hatillo De Loba", "Magangué", "Mahates", "Margarita", "María La Baja", "Mompós", "Montecristo", "Morales", "Pinillos", "Regidor", "Río Viejo", "San Cristóbal", "San Estanislao", "San Fernando", "San Jacinto", "San Jacinto Del Cauca", "San Juan Nepomuceno", "San Martin De Loba", "San Pablo", "Santa Catalina", "Santa Rosa De Lima", "Santa Rosa Del Sur", "Simití", "Soplaviento", "Talaigua Nuevo", "Tiquisio", "Turbaco", "Turbaná", "Villanueva", "Zambrano"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Boyacá") {
        const options = ["Almeida", "Aquitania", "Arcabuco", "Belén", "Berbeo", "Betéitiva", "Boavita", "Boyacá", "Briceño", "Buenavista", "Busbanzá", "Caldas", "Campohermoso", "Cerinza", "Chinavita", "Chiquinquirá", "Chíquiza", "Chiscas", "Chita", "Chitaraque", "Chivatá", "Chivor", "Ciénega", "Cómbita", "Coper", "Corrales", "Covarachía", "Cubará", "Cucaita", "Cuítiva", "Duitama", "El Cocuy", "El Espino", "Firavitoba", "Floresta", "Gachantivá", "Gámeza", "Garagoa", "Guacamayas", "Guateque", "Guayatá", "Güicán", "Iza", "Jenesano", "Jericó", "La Capilla", "La Uvita", "La Victoria", "Labranzagrande", "Macanal", "Maripí", "Miraflores", "Mongua", "Monguí", "Moniquirá", "Motavita", "Muzo", "Nobsa", "Nuevo Colón", "Oicatá", "Otanche", "Pachavita", "Páez", "Paipa", "Pajarito", "Panqueba", "Pauna", "Paya", "Paz De Río", "Pesca", "Pisba", "Puerto Boyacá", "Quípama", "Ramiriquí", "Ráquira", "Rondón", "Saboyá", "Sáchica", "Samacá", "San Eduardo", "San José De Pare", "San Luis De Gaceno", "San Mateo", "San Miguel De Sema", "San Pablo Borbur", "San Rosa Viterbo", "Santa María", "Santa Sofía", "Santana", "Sativanorte", "Sativasur", "Siachoque", "Soatá", "Socha", "Socotá", "Sogamoso", "Somondoco", "Sora", "Soracá", "Sotaquirá", "Susacón", "Sutamarchán", "Sutatenza", "Tasco", "Tenza", "Tibaná", "Tibasosa", "Tinjacá", "Tipacoque", "Toca", "Togüí", "Tópaga", "Tota", "Tunja", "Tununguá", "Turmequé", "Tuta", "Tutazá", "Úmbita", "Ventaquemada", "Villa De Leyva", "Viracachá", "Zetaquira"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Caldas") {
        const options = ["Aguadas", "Anserma", "Aránzazu", "Belalcázar", "Chinchiná", "Filadelfia", "La Dorada", "La Merced", "Manizales", "Manzanares", "Marmato", "Marquetalia", "Marulanda", "Neira", "Norcasia", "Pácora", "Palestina", "Pensilvania", "Riosucio", "Risaralda", "Salamina", "Samaná", "San José", "Supía", "Victoria", "Villamaría", "Viterbo"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Caquetá") {
        const options = ["Albania", "Belén De Los Andaquíes", "Cartagena Del Chairá", "Currillo", "El Doncello", "El Paujil", "Florencia", "La Montañita", "Milán", "Morelia", "Puerto Rico", "San José Del Fragua", "San Vicente Del Caguán", "Solano", "Solita", "Valparaíso"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Casanare") {
        const options = ["Aguazul", "Chámeza", "Hato Corozal", "La Salina", "Maní", "Monterrey", "Nunchía", "Orocué", "Paz De Ariporo", "Pore", "Recetor", "Sabanalarga", "Sácama", "San Luis De Palenque", "Támara", "Tauramena", "Trinidad", "Villanueva", "Yopal"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Cauca") {
        const options = ["Almaguer", "Argelia", "Balboa", "Bolívar", "Buenos Aires", "Cajibío", "Caldono", "Caloto", "Corinto", "El Tambo", "Florencia", "Guapi", "Inzá", "Jambaló", "La Sierra", "La Vega", "López", "Mercaderes", "Miranda", "Morales", "Padilla", "Páez", "Patía", "Piamonte", "Piendamó", "Popayán", "Puerto Tejada", "Puracé", "Rosas", "San Sebastián", "Santa Rosa", "Santander De Quilichao", "Silvia", "Sotará", "Suarez", "Sucre", "Timbío", "Timbiquí", "Toribio", "Totoró", "Villa Rica"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Cesar") {
        const options = ["Aguachica", "Agustín Codazzi", "Astrea", "Becerril", "Bosconia", "Chimichagua", "Chiriguaná", "Curumaní", "El Copey", "El Paso", "Gamarra", "González", "La Gloria", "La Jagua De Ibirico", "La Paz", "Manaure", "Pailitas", "Pelaya", "Pueblo Bello", "Río De Oro", "San Alberto", "San Diego", "San Martín", "Tamalameque", "Valledupar"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Choco") {
        const options = ["Acandí", "Alto Baudó", "Atrato", "Bagadó", "Bahía Solano", "Bajo Baudó", "Belén De Bajirá", "Bojayá", "Cantón De San Pablo", "Carmen Del Darién", "Cértegui", "Condoto", "El Carmen De Atrato", "El Litoral Del San Juan", "Itsmina", "Jurado", "Lloró", "Medio Atrato", "Medio Baudó", "Medio San Juan", "Novita", "Nuquí", "Quibdó", "Río Frío", "Rio Quito", "Riosucio", "San José Del Palmar", "Sipí", "Tadó", "Unguía", "Unión Panamericana"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Córdoba") {
        const options = ["Ayapel", "Buenavista", "Canalete", "Cereté", "Chimá", "Chinú", "Ciénaga De Oro", "Cotorra", "La Apartada", "Lorica", "Los Córdobas", "Momil", "Moñitos", "Montelíbano", "Montería", "Planeta Rica", "Pueblo Nuevo", "Puerto Escondido", "Puerto Libertador", "Purísima", "Sahagún", "San Andrés Sotavento", "San Antero", "San Bernardo Del Viento", "San Carlos", "San Pelayo", "Tierralta", "Valencia"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Cundinamarca") {
        const options = ["Agua De Dios", "Albán", "Anapoima", "Anolaima", "Apulo", "Arbeláez", "Beltrán", "Bituima", "Bojacá", "Cabrera", "Cachipay", "Cajicá", "Caparrapí", "Cáqueza", "Carmen De Carupa", "Chaguaní", "Chía", "Chipaque", "Choachí", "Chocontá", "Cogua", "Cota", "Cucunubá", "El Colegio", "El Peñón", "El Rosal", "Facatativá", "Fómeque", "Fosca", "Funza", "Fúquene", "Fusagasugá", "Gachalá", "Gachancipá", "Gacheta", "Gama", "Girardot", "Granada", "Guachetá", "Guaduas", "Guasca", "Guataquí", "Guatavita", "Guayabal De Síquima", "Guayabetal", "Gutiérrez", "Jerusalén", "Junín", "La Calera", "La Mesa", "La Palma", "La Peña", "La Vega", "Lenguazaque", "Macheta", "Madrid", "Manta", "Medina", "Mosquera", "Nariño", "Nemocón", "Nilo", "Nimaima", "Nocaima", "Pacho", "Paime", "Pandi", "Paratebueno", "Pasca", "Puerto Salgar", "Pulí", "Quebradanegra", "Quetame", "Quipile", "Ricaurte", "San Antonio De Tequendama", "San Bernardo", "San Cayetano", "San Francisco", "San Juan De Río Seco", "Sasaima", "Sesquilé", "Sibaté", "Silvania", "Simijaca", "Soacha", "Sopó", "Subachoque", "Suesca", "Supatá", "Susa", "Sutatausa", "Tabio", "Tausa", "Tena", "Tenjo", "Tibacuy", "Tibiritá", "Tocaima", "Tocancipá", "Topaipí", "Ubalá", "Ubaque", "Ubaté", "Une", "Útica", "Venecia", "Vergara", "Vianí", "Villagómez", "Villapinzón", "Villeta", "Viotá", "Yacopí", "Zipacón", "Zipaquirá"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Guainía") {
        const options = ["Barranco Mina", "Cacahual", "Inírida", "La Guadalupe", "Mapiripán", "Morichal", "Pana Pana", "Puerto Colombia", "San Felipe"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Guaviare") {
        const options = ["Calamar", "El Retorno", "Miraflores", "San José Del Guaviare"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Huila") {
        const options = ["Acevedo", "Agrado", "Aipe", "Algeciras", "Altamira", "Baraya", "Campoalegre", "Colombia", "Elías", "Garzón", "Gigante", "Guadalupe", "Hobo", "Íquira", "Isnos", "La Argentina", "La Plata", "Nátaga", "Neiva", "Oporapa", "Paicol", "Palermo", "Palestina", "Pital", "Pitalito", "Rivera", "Saladoblanco", "San Agustín", "Santa María", "Suaza", "Tarqui", "Tello", "Teruel", "Tesalia", "Timaná", "Villavieja", "Yaguará"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "La Guajira") {
        const options = ["Albania", "Barrancas", "Dibulla", "Distracción", "El Molino", "Fonseca", "Hatonuevo", "La Jagua Del Pilar", "Maicao", "Manaure", "Riohacha", "San Juan Del Cesar", "Uribia", "Urumita", "Villanueva"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Magdalena") {
        const options = ["Algarrobo", "Aracataca", "Ariguaní", "Cerro San Antonio", "Chibolo", "Ciénaga", "Concordia", "El Banco", "El Piñón", "El Reten", "Fundación", "Guamal", "Nueva Granada", "Pedraza", "Pijiño Del Carmen", "Pivijay", "Plato", "Pueblo Viejo", "Remolino", "Sabanas De San Ángel", "Salamina", "San Sebastián De Buenavista", "San Zenón", "Santa Ana", "Santa Barbara De Pinto", "Santa Marta", "Sitionuevo", "Tenerife", "Zapayán", "Zona Bananera"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Meta") {
        const options = ["Acacias", "Barranca De Upía", "Cabuyaro", "Castilla La Nueva", "Cumaral", "El Calvario", "El Castillo", "El Dorado", "Fuente De Oro", "Granada", "Guamal", "La Macarena", "La Uribe", "Lejanías", "Mapiripán", "Mesetas", "Puerto Concordia", "Puerto Gaitán", "Puerto Lleras", "Puerto López", "Puerto Rico", "Restrepo", "San Carlos Guaroa", "San Juan De Arama", "San Juanito", "San Luis De Cubarral", "San Martín", "Villavicencio", "Vista Hermosa"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Nariño") {
        const options = ["Alban", "Aldana", "Ancuya", "Arboleda", "Barbacoas", "Belén", "Buesaco", "Chachagüí", "Colon", "Consacá", "Contadero", "Córdoba", "Cuaspud", "Cumbal", "Cumbitara", "El Charco", "El Peñol", "El Rosario", "El Tablón De Gómez", "El Tambo", "Francisco Pizarro", "Funes", "Guachucal", "Guaitarilla", "Gualmatán", "Iles", "Imués", "Ipiales", "La Cruz", "La Florida", "La Llanada", "La Tola", "La Unión", "Leiva", "Linares", "Los Andes", "Magüí Payán", "Mallama", "Mosquera", "Nariño", "Olaya Herrera", "Ospina", "Pasto", "Policarpa", "Potosí", "Providencia", "Puerres", "Pupiales", "Ricaurte", "Roberto Payan", "Samaniego", "San Bernardo", "San Lorenzo", "San Pablo", "San Pedro De Cartago", "Sandoná", "Santa Barbara", "Santa Cruz", "Sapuyes", "Taminango", "Tangua", "Tumaco", "Túquerres", "Yacuanquer"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Norte De Santander") {
        const options = ["Abrego", "Arboledas", "Bochalema", "Bucarasica", "Cáchira", "Cácota", "Chinácota", "Chitagá", "Convención", "Cúcuta", "Cucutilla", "Durania", "El Carmen", "El Tarra", "El Zulia", "Gramalote", "Hacarí", "Herrán", "La Esperanza", "La Playa", "Labateca", "Los Patios", "Lourdes", "Mutiscua", "Ocaña", "Pamplona", "Pamplonita", "Puerto Santander", "Ragonvalia", "Salazar", "San Calixto", "San Cayetano", "Santiago", "Sardinata", "Silos", "Teorama", "Tibú", "Toledo", "Villa Caro", "Villa Del Rosario"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Putumayo") {
        const options = ["Colón", "Mocoa", "Orito", "Puerto Asís", "Puerto Caicedo", "Puerto Guzmán", "Puerto Leguizamo", "San Francisco", "San Miguel", "Santiago", "Sibundoy", "Valle Del Guamuez", "Villa Garzón"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Quindío") {
        const options = ["Armenia", "Buenavista", "Calarcá", "Circasia", "Córdoba", "Filandia", "Génova", "La Tebaida", "Montenegro", "Pijao", "Quimbaya", "Salento"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Risaralda") {
        const options = ["Apía", "Balboa", "Belén De Umbría", "Dosquebradas", "Guática", "La Celia", "La Virginia", "Marsella", "Mistrató", "Pereira", "Pueblo Rico", "Quinchía", "Santa Rosa De Cabal", "Santuario"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Archipiélago De San Andrés") {
        const options = ["Providencia Y Santa Catalina", "San Andres"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Santander") {
        const options = ["Aguada", "Albania", "Aratoca", "Barbosa", "Barichara", "Barrancabermeja", "Betulia", "Bolívar", "Bucaramanga", "Cabrera", "California", "Capitanejo", "Carcasí", "Cepitá", "Cerrito", "Charalá", "Charta", "Chima", "Chipatá", "Cimitarra", "Concepción", "Confines", "Contratación", "Coromoro", "Curití", "El Carmen De Chucurí", "El Guacamayo", "El Peñón", "El Playón", "Encino", "Enciso", "Florián", "Floridablanca", "Galán", "Gambita", "Girón", "Guaca", "Guadalupe", "Guapotá", "Guavatá", "Güepsa", "Hato", "Jesús María", "Jordán", "La Belleza", "La Paz", "Landázuri", "Lebrija", "Los Santos", "Macaravita", "Málaga", "Matanza", "Mogotes", "Molagavita", "Ocamonte", "Oiba", "Onzaga", "Palmar", "Palmas Del Socorro", "Páramo", "Piedecuesta", "Pinchote", "Puente Nacional", "Puerto Parra", "Puerto Wilches", "Rionegro", "Sabana De Torres", "San Andrés", "San Benito", "San Gil", "San Joaquín", "San José De Miranda", "San Miguel", "San Vicente De Chucurí", "Santa Bárbara", "Santa Helena Del Opón", "Simacota", "Socorro", "Suaita", "Sucre", "Surata", "Tona", "Valle De San José", "Vélez", "Vetas", "Villanueva", "Zapatoca"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Sucre") {
        const options = ["Buenavista", "Caimito", "Chalán", "Coloso", "Corozal", "Coveñas", "El Roble", "Galeras", "Guaranda", "La Unión", "Los Palmitos", "Majagual", "Morroa", "Ovejas", "Palmito", "Sampués", "San Benito Abad", "San Juan Betulia", "San Marcos", "San Onofre", "San Pedro", "Santiago De Tolú", "Sincé", "Sincelejo", "Sucre", "Tolú Viejo"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Tolima") {
        const options = ["Alpujarra", "Alvarado", "Ambalema", "Anzoátegui", "Armero", "Ataco", "Cajamarca", "Carmen De Apicalá", "Casabianca", "Chaparral", "Coello", "Coyaima", "Cunday", "Dolores", "Espinal", "Falan", "Flandes", "Fresno", "Guamo", "Herveo", "Honda", "Ibagué", "Icononzo", "Lérida", "Líbano", "Mariquita", "Melgar", "Murillo", "Natagaima", "Ortega", "Palocabildo", "Piedras", "Planadas", "Prado", "Purificación", "Rioblanco", "Roncesvalles", "Rovira", "Saldaña", "San Antonio", "San Luis", "Santa Isabel", "Suárez", "Valle De San Juan", "Venadillo", "Villahermosa", "Villarrica"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Valle Del Cauca") {
        const options = ["Alcalá", "Andalucía", "Ansermanuevo", "Argelia", "Bolívar", "Buenaventura", "Buga", "Bugalagrande", "Caicedonia", "Cali", "Calima", "Candelaria", "Cartago", "Dagua", "El Águila", "El Cairo", "El Cerrito", "El Dovio", "Florida", "Ginebra", "Guacarí", "Jamundí", "La Cumbre", "La Unión", "La Victoria", "Obando", "Palmira", "Pradera", "Restrepo", "Riofrio", "Roldanillo", "San Pedro", "Sevilla", "Toro", "Trujillo", "Tuluá", "Ulloa", "Versalles", "Vijes", "Yotoco", "Yumbo", "Zarzal"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Vaupés") {
        const options = ["Carurú", "Mitú", "Pacoa", "Papunaua", "Taraira", "Yavaraté"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Vichada") {
        const options = ["Cumaribo", "La Primavera", "Puerto Carreño", "Santa Rosalía"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (Departamento === "Bogotá D.C.") {
        const options = ["Bogotá D.C."];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      }
      agregarClaseDinamica("Ciudad");
      cambiarColorSelects();
    }

    function checktipopqrsfOption() {
      const tipoPQRSF = document.getElementById("tipoPQRSF").value;
      const segmentoSelect = document.getElementById("Motivo");
      segmentoSelect.innerHTML = '';

      // Agregar opción predeterminada cuando se selecciona un Tipo de PQRSF
      const opcionPredeterminada = document.createElement('option');
      opcionPredeterminada.value = '';
      opcionPredeterminada.innerHTML = 'Selecciona una opción';
      opcionPredeterminada.selected = true;
      opcionPredeterminada.disabled = true;
      opcionPredeterminada.hidden = true;
      segmentoSelect.appendChild(opcionPredeterminada);

      if (tipoPQRSF === "Felicitación") {
        const options = ["Amabilidad y servicio"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (tipoPQRSF === "Petición") {
        const options = ["Actualización de datos", "Acuerdo de pago", "Cambio de foto", "Centrales de riesgo", "Clientes demandados", "Desbloqueo y bloqueo de cédulas",
          "Eliminación de base de datos", "Excluir de mensajes publicitarios", "Explicación de cobro Aval y financiación", "Inconvenientes con el aumento de cupo",
          "Información centrales de riesgo", "Ley de tratamiento de datos", "Mensajes de notificación de centrales", "Retracto de compra", "Solicitud anulación de deuda",
          "Solicitud condonación de la deuda", "Solicitud de información", "Solicitud garantía productos aliados", "Solicitud grabación de llamada",
          "Solicitud información Soñadores", "Solicitud Prescripción de la deuda", "Solicitud renegociación de condiciones", "Solicitud seguro de deuda"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (tipoPQRSF === "Queja") {
        const options = ["Ausencia de acompañamiento comercial", "Creación erronea en Credinet", "Demora en el estudio de la solicitud", "Error en creación de usuario",
          "Inconformidad cobro aval", "Inconformidad con el comercio", "Inconformidad con el contrato", "Inconformidad con el proceso de cobranzas", "Inconformidad con el programa Soñadores",
          "Inconformidad con la Amabilidad y servicio", "Inconformidad con la negación del cupo", "Inconformidad con la propuesta comercial", "Inconformidad con la respuesta a la PQRSF", "Inconformidad con la validación de seguridad",
          "Inconformidad medio de pago", "Inconformidad por inactivación de comercio", "Inconveniente con Credinet", "Inconvenientes con compras por ecommerce (Servicios)",
          "Inconvenientes con el uso del cupo", "Inconvenientes con las ventas", "Información erronea cierre contable", "Instalación de Credinet incompleta", "Negación de crédito"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (tipoPQRSF === "Reclamo") {
        const options = ["Afectaciones Politicas", "Anulación de creditos", "Anulación de pagos", "Comprobante de pago", "Estafa", "Fraudes o suplantaciones", "Inconformidad con el pago del crédito",
          "Inconsistencias en pagos realizados", "Inconsistencias pago online", "Incumplimiento de acuerdos pactados", "Información pago anticipado", "Insolvencia", "Pago no reflejado"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      } else if (tipoPQRSF === "Sugerencia") {
        const options = ["Mejora de los medios de pago", "Mejora del proceso de cobro", "Otros"];
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.innerHTML = option;
          segmentoSelect.appendChild(opt);
        });
      }
      cambiarColorSelects();
      limpiarCamposSeguntipoPQRSF();
    }

    // Función para habilitar campos acorde con la seleccion del tipo del Motivo
    function checkMotivoOption() {
      const Motivo = document.getElementById("Motivo").value;
      const tipoPersona = document.getElementById("tipoPersona").value;
      const entidad_solicitanteList = document.getElementById("entidad_solicitanteList").value;


      if (tipoPersona === 'Otro' && entidad_solicitanteList != 'Otro') {
        document.getElementById("Proceso_responsable").value = "Gestión Legal";
      }
      else if (tipoPersona === 'Otro' && entidad_solicitanteList === 'Otro') {
        document.getElementById("Proceso_responsable").value = "Cliente Final";
      }
      else if (Motivo === 'Centrales de riesgo' || Motivo === 'Clientes demandados' || Motivo === 'Ley de tratamiento de datos' || Motivo === 'Solicitud condonación de la deuda' || Motivo === 'Solicitud de información'
        || Motivo === 'Solicitud Prescripción de la deuda' || Motivo === 'Eliminación de base de datos' || Motivo === 'Fraudes o suplantaciones' || Motivo === 'Solicitud seguro de deuda' || Motivo === 'Insolvencia') {
        document.getElementById("Proceso_responsable").value = "Gestión Legal";
      }
      else if (Motivo === 'Retracto de compra' || Motivo === 'Acuerdo de pago' || Motivo === 'Mensajes de notificación de centrales'
        || Motivo === 'Incumplimiento de acuerdos pactados' || Motivo === 'Información pago anticipado' || Motivo === 'Explicación de cobro Aval y financiación' ||
        Motivo === 'Solicitud grabación de llamada' || Motivo === 'Solicitud anulación de deuda' || Motivo === 'Inconvenientes con el aumento de cupo') {
        document.getElementById("Proceso_responsable").value = "Cliente Final";
      }
      else if (Motivo === 'Solicitud información Soñadores' || Motivo === 'Inconformidad con el contrato' || Motivo === 'Ausencia de acompañamiento comercial' || Motivo === 'Información erronea cierre contable' || Motivo === 'Inconveniente con Credinet'
        || Motivo === 'Creación erronea en Credinet' || Motivo === 'Inconformidad por inactivación de comercio' || Motivo === 'Instalación de Credinet incompleta' || Motivo === 'Inconformidad con el programa Soñadores'
        || Motivo === 'Inconformidad con la propuesta comercial' || Motivo === 'Inconvenientes con las ventas' || Motivo === 'Anulación de creditos' || Motivo === 'Inconvenientes con compras por ecommerce (Servicios)') {
        document.getElementById("Proceso_responsable").value = "Gestión Aliados";
      }
      else if ((Motivo === 'Actualización de datos' || Motivo === 'Desbloqueo y bloqueo de cédulas' || Motivo === 'Solicitud garantía productos aliados' || Motivo === 'Solicitud renegociación de condiciones' || Motivo === 'Excluir de mensajes publicitarios'
        || Motivo === 'Demora en el estudio de la solicitud' || Motivo === 'Inconformidad con el proceso de cobranzas' || Motivo === 'Inconformidad con el comercio' || Motivo === 'Inconformidad medio de pago'
        || Motivo === 'Inconvenientes con el uso del cupo' || Motivo === 'Negación de crédito' || Motivo === 'Inconformidad con la validación de seguridad' || Motivo === 'Anulación de pagos'
        || Motivo === 'Mejora del proceso de cobro' || Motivo === 'Mejora de los medios de pago' || Motivo === 'Otros' || Motivo === 'Cambio de foto' || Motivo === 'Pago no reflejado' || Motivo === 'Inconformidad con la negación del cupo' || Motivo === 'Comprobante de pago' || Motivo === 'Error en creación de usuario' || Motivo === 'Inconformidad con el pago del crédito' || Motivo === 'Inconsistencias en pagos realizados' || Motivo === 'Inconsistencias pago online') && tipoPersona === 'Cliente') {
        document.getElementById("Proceso_responsable").value = "Cliente Final";
      }
      else if ((Motivo === 'Actualización de datos' || Motivo === 'Desbloqueo y bloqueo de cédulas' || Motivo === 'Solicitud garantía productos aliados' || Motivo === 'Solicitud renegociación de condiciones' || Motivo === 'Excluir de mensajes publicitarios'
        || Motivo === 'Demora en el estudio de la solicitud' || Motivo === 'Inconformidad con el proceso de cobranzas' || Motivo === 'Inconformidad con el comercio' || Motivo === 'Inconformidad medio de pago'
        || Motivo === 'Inconvenientes con el uso del cupo' || Motivo === 'Negación de crédito' || Motivo === 'Inconformidad con la validación de seguridad' || Motivo === 'Anulación de pagos'
        || Motivo === 'Mejora del proceso de cobro' || Motivo === 'Mejora de los medios de pago' || Motivo === 'Otros' || Motivo === 'Cambio de foto' || Motivo === 'Pago no reflejado' || Motivo === 'Inconformidad con la negación del cupo' || Motivo === 'Comprobante de pago' || Motivo === 'Error en creación de usuario' || Motivo === 'Inconformidad con el pago del crédito' || Motivo === 'Inconsistencias en pagos realizados' || Motivo === 'Inconsistencias pago online') && tipoPersona === 'Marcas Aliadas') {
        document.getElementById("Proceso_responsable").value = "Gestión Aliados";
      }
      else if ((Motivo === 'Información centrales de riesgo') && tipoPersona === 'Cliente') {
        document.getElementById("Proceso_responsable").value = "Cliente Final";
      } else if ((Motivo === 'Información centrales de riesgo') && entidad_solicitanteList != 'Otro') {
        document.getElementById("Proceso_responsable").value = "Gestión Legal";
      }
      else if ((Motivo === 'Amabilidad y servicio' || Motivo === 'Inconformidad con la Amabilidad y servicio' || Motivo === 'Inconformidad con la respuesta a la PQRSF')
        && (tipoPersona === 'Otro' && entidad_solicitanteList != 'Otro')) {
        document.getElementById("Proceso_responsable").value = "Gestión Legal";
      }
      else if ((Motivo === 'Amabilidad y servicio' || Motivo === 'Inconformidad cobro aval' || Motivo === 'Inconformidad con la Amabilidad y servicio' || Motivo === 'Inconformidad con la respuesta a la PQRSF' || Motivo === 'Afectaciones Politicas' || Motivo === 'Estafa')
        && tipoPersona === 'Cliente') {
        document.getElementById("Proceso_responsable").value = "Cliente Final";
      }
      else if ((Motivo === 'Amabilidad y servicio' || Motivo === 'Inconformidad cobro aval' || Motivo === 'Inconformidad con la Amabilidad y servicio' || Motivo === 'Inconformidad con la respuesta a la PQRSF' || Motivo === 'Afectaciones Politicas' || Motivo === 'Estafa')
        && tipoPersona === 'Marcas Aliadas') {
        document.getElementById("Proceso_responsable").value = "Gestión Aliados";
      }
      else {
        document.getElementById("Proceso_responsable").value = "Cliente Final";
      }



      if (tipoPersona === "Cliente" && (Motivo === 'Amabilidad y servicio' || Motivo === 'Inconformidad con la Amabilidad y servicio')) {
        document.getElementById("Agente_Involucrado").style.display = "block";
      } else {
        document.getElementById("Agente_Involucrado").style.display = "none";
      }

      if (tipoPersona === "Marcas Aliadas" && (Motivo === 'Amabilidad y servicio' || Motivo === 'Inconformidad con la Amabilidad y servicio')) {
        document.getElementById("Aliado_Involucrado").style.display = "block";
      } else {
        document.getElementById("Aliado_Involucrado").style.display = "none";
      }
      validartamañoFile();


      if (Motivo === 'Otros' || Motivo === 'Amabilidad y servicio' || Motivo === 'Información centrales de riesgo' || Motivo === 'Retracto de compra' || Motivo === 'Solicitud condonación de la deuda'
        || Motivo === 'Solicitud de información' || Motivo === 'Solicitud información Soñadores' || Motivo === 'Solicitud Prescripción de la deuda' || Motivo === 'Solicitud renegociación de condiciones'
        || Motivo === 'Acuerdo de pago' || Motivo === 'Excluir de mensajes publicitarios' || Motivo === 'Mensajes de notificación de centrales' || Motivo === 'Información erronea cierre contable'
        || Motivo === 'Creación erronea en Credinet' || Motivo === 'Inconformidad por inactivación de comercio' || Motivo === 'Negación de crédito' || Motivo === 'Inconformidad con la propuesta comercial'
        || Motivo === 'Inconformidad con la propuesta comercial' || Motivo === 'Inconvenientes con las ventas' || Motivo === 'Inconformidad con el pago del crédito' || Motivo === 'Información pago anticipado'
        || Motivo === 'Comprobante de pago' || Motivo === 'Mejora del proceso de cobro' || Motivo === 'Mejora de los medios de pago' || Motivo === 'Solicitud grabación de llamada' || Motivo === 'Solicitud anulación de deuda' || Motivo === 'Inconvenientes con el aumento de cupo') {
        document.querySelector("label[for='criticidad']").classList.remove("modificar-color")
        document.getElementById("criticidad_Baja").style.display = "inline";
        document.getElementById("criticidad_Media").style.display = "none";
        document.getElementById("criticidad_Alta").style.display = "none";
        document.getElementById("Criticidad").value = "Baja";

      } else if (Motivo === 'Ley de tratamiento de datos' || Motivo === 'Eliminación de base de datos' || Motivo === 'Inconformidad cobro aval' || Motivo === 'Ausencia de acompañamiento comercial'
        || Motivo === 'Inconformidad con el proceso de cobranzas' || Motivo === 'Inconformidad con el comercio' || Motivo === 'Inconvenientes con el uso del cupo' || Motivo === 'Inconveniente con Credinet'
        || Motivo === 'Inconformidad con el programa Soñadores' || Motivo === 'Error en creación de usuario' || Motivo === 'Incumplimiento de acuerdos pactados' || Motivo === 'Inconsistencias pago online'
        || Motivo === 'Afectaciones Politicas' || Motivo === 'Anulación de pagos' || Motivo === 'Inconsistencias en pagos realizados' || Motivo === 'Anulación de creditos' || Motivo === 'Explicación de cobro Aval y financiación' || Motivo === 'Solicitud seguro de deuda' || Motivo === 'Insolvencia') {
        document.querySelector("label[for='criticidad']").classList.remove("modificar-color")
        document.getElementById("criticidad_Media").style.display = "inline";
        document.getElementById("criticidad_Baja").style.display = "none";
        document.getElementById("criticidad_Alta").style.display = "none";
        document.getElementById("Criticidad").value = "Media";

      } else if (Motivo === 'Solicitud garantía productos aliados' || Motivo === 'Actualización de datos' || Motivo === 'Centrales de riesgo' || Motivo === 'Clientes demandados' || Motivo === 'Desbloqueo y bloqueo de cédulas'
        || Motivo === 'Inconformidad con la Amabilidad y servicio' || Motivo === 'Inconformidad con el contrato' || Motivo === 'Demora en el estudio de la solicitud' || Motivo === 'Inconformidad medio de pago' || Motivo === 'Instalación de Credinet incompleta'
        || Motivo === 'Inconformidad con la validación de seguridad' || Motivo === 'Inconvenientes con compras por ecommerce (Servicios)' || Motivo === 'Inconformidad con la respuesta a la PQRSF' || Motivo === 'Pago no reflejado'
        || Motivo === 'Fraudes o suplantaciones' || Motivo === 'Cambio de foto' || Motivo === 'Inconformidad con la negación del cupo' || Motivo === 'Estafa') {
        document.querySelector("label[for='criticidad']").classList.remove("modificar-color")
        document.getElementById("criticidad_Alta").style.display = "inline";
        document.getElementById("criticidad_Baja").style.display = "none";
        document.getElementById("criticidad_Media").style.display = "none";
        document.getElementById("Criticidad").value = "Alta";

      } else {
        document.getElementById("criticidad_Baja").style.display = "none";
        document.getElementById("criticidad_Media").style.display = "none";
        document.getElementById("criticidad_Alta").style.display = "none";
      }

    }

    // Función para limpiar campos si cambia el tipoPersona
    function limpiarCamposSeguntipoPersona() {
      const tipoPersona = document.getElementById("tipoPersona").value;
      //document.getElementById("entidad_solicitanteList").selectedIndex = 0;
      checkentidadOption();
      document.getElementById("Producto").selectedIndex = 0;
      document.getElementById("Departamento").selectedIndex = 0;
      checkDepartamentoOption();
      document.getElementById("tipoPQRSF").selectedIndex = 0;
      checktipopqrsfOption();
      document.getElementById("Proceso_responsable").selectedIndex = 0;
      document.getElementById("Agente_Involucrado").style.display = "none"
      document.getElementById("Aliado_Involucrado").style.display = "none"
      document.getElementById("criticidad_Baja").style.display = "none";
      document.getElementById("criticidad_Media").style.display = "none";
      document.getElementById("criticidad_Alta").style.display = "none";
      document.getElementById("Carga_Archivo").classList.add("col-span-2");
      document.querySelector("label[for='criticidad']").classList.add("modificar-color");
      document.getElementById("description").value = "";
      document.getElementById("Estado").selectedIndex = 0;
      checkestadoOption();
      document.getElementById("Procedencia").selectedIndex = 0;
      const colorSelectDinamico = ["Producto", "entidad_solicitanteList", "Departamento", "Ciudad", "tipoPQRSF", "Estado"]; // Crea un arreglo con los ID
      colorSelectDinamico.forEach(agregarClaseDinamica); // Recorre el arreglo y asigna la clase
      cambiarColorSelects();
    }

    // Función para limpiar campos si cambia el TipoPQRSF
    function limpiarCamposSeguntipoPQRSF() {
      const tipoPQRSF = document.getElementById("tipoPQRSF").value;
      document.getElementById("Motivo").selectedIndex = 0;
      document.getElementById("Proceso_responsable").selectedIndex = 0;
      document.getElementById("Agente_Involucrado").style.display = "none"
      document.getElementById("Aliado_Involucrado").style.display = "none"
      document.getElementById("criticidad_Baja").style.display = "none";
      document.getElementById("criticidad_Media").style.display = "none";
      document.getElementById("criticidad_Alta").style.display = "none";
      document.getElementById("Carga_Archivo").classList.add("col-span-2");
      document.querySelector("label[for='criticidad']").classList.add("modificar-color");
      agregarClaseDinamica("Motivo");
      cambiarColorSelects();
    }

    // Función para limpiar campo "otraentidad" si cambia la Entidad Solicitante
    function limpiarCamposSegunEntidadSolicitante() {
      const entidad_solicitanteList = document.getElementById("entidad_solicitanteList").value;
      document.getElementById("otraentidad").value = "";
    }

    // Carga valores de select predeterminados afectados por OnChange
    function valoresPredeterminadosAlCargar() {
      document.getElementById("canal").value = "Llamada";
      document.getElementById("Proceso_responsable").value = "";
      document.getElementById("Ciudad").value = "";
      document.getElementById("Departamento").value = "";
    }

    // Función que actualiza el nombre del File por el elemento cargado
    function updateFileName() {
      const input = document.getElementById('file-upload');
      const fileNameSpan = document.getElementById('file-name');
      if (input.files.length === 0) {
        fileNameSpan.textContent = 'Subir archivo aquí';
        document.getElementById("file-name").classList.add("text-gray-300");
      } else {
        const fileNames = Array.from(input.files).map(file => file.name).join(', ');
        fileNameSpan.textContent = fileNames;
        document.getElementById("file-name").classList.remove("text-gray-300");
        document.getElementById("file-name").classList.add("text-gray-300");
      }
      document.getElementById("filename").value = fileNameSpan.textContent;
    }

    // Función que modifica el tamaño del container de file a 1 o 2 columnas del flex
    function validartamañoFile() {
      const agente = document.getElementById("Agente_Involucrado");
      const aliado = document.getElementById('Aliado_Involucrado');
      if (agente.style.display === 'block' || aliado.style.display === 'block') {
        document.getElementById("Carga_Archivo").classList.remove("col-span-2");
      } else if (agente.style.display === 'none' || aliado.style.display === 'none') {
        document.getElementById("Carga_Archivo").classList.add("col-span-2");
      }
    }

    // Función que modifica los colores de los Select, los hace similares a placeholder
    function cambiarColorSelects() {
      const selectElements = document.querySelectorAll('select.color-select');
      selectElements.forEach(selectElement => {
        selectElement.addEventListener('change', function () {
          if (this.value) {
            this.classList.remove('color-select');
          } else {
            this.classList.add('color-select');
          }
        });
        const options = selectElement.querySelectorAll('option');
        options.forEach(option => {
          if (option.value) {
            option.classList.add('option-with-value');
          }
        });
      });
    }

    // Función que verifica si existe la propiedad class "color-select" y/o la agrega
    function agregarClaseDinamica(elementoId) {
      const elemento = document.getElementById(elementoId);
      if (!elemento.classList.contains("color-select")) {
        elemento.classList.add("color-select");
      }
    }

    // Función para validar los campos antes de enviar el formulario y arrojar una alerta Success
    function validarFormulario(event) {
      event.preventDefault();
      const addForm = document.getElementById("form-validation");
      const formElements = addForm.elements;
      let formIsValid = true;

      for (let i = 0; i < formElements.length; i++) {
        const element = formElements[i];

        // Verificar si el campo está oculto o deshabilitado
        if (element.type === "hidden" || element.disabled || element.offsetParent === null) {
          continue; // Saltar la validación de campos ocultos o deshabilitados
        }

        // Verificar si el campo es requerido y no es válido
        if (element.type !== "submit" && element.required && !element.checkValidity()) {
          element.classList.add("is-invalid");
          element.classList.remove("is-valid");
          // Añadir mensaje de error personalizado
          let errorMessage = element.nextElementSibling;
          if (!errorMessage || !errorMessage.classList.contains("invalid-feedback")) {
            errorMessage = document.createElement("div");
            errorMessage.className = "invalid-feedback";
            switch (element.id) {
              case "documento":
                errorMessage.className += " col-span-5 row-start-2 col-start-2";
                break;
              case "tipoDocumento":
                errorMessage.className += " row-start-2";
                break;
              case "phone":
                errorMessage.className += " col-start-2 col-span-4";
                break;
              case "Motivo":
                errorMessage.className += " row-start-2 col-span-5";
                break;
            }
            element.parentNode.insertBefore(errorMessage, element.nextSibling);
          }
          // Crea el mensaje de validación de error según el ID del campo
          switch (element.id) {
            case "documento":
              errorMessage.textContent = "Ingresa un documento válido";
              break;
            case "phone":
              errorMessage.textContent = "Ingresa un número válido, debe iniciar en 3 y contener 10 dígitos";
              break;
            case "Correo":
              errorMessage.textContent = "Ingresa un correo con el formato: nombre@dominio.com";
              break;
            case "nombre":
              errorMessage.textContent = "Ingresa un nombre válido";
              break;
            default:
              errorMessage.textContent = "Ingresa un dato válido";
              break;
          }
          formIsValid = false;
        } else if (element.type !== "submit") {
          element.classList.remove("is-invalid");
          element.classList.add("is-valid");
          // Remover mensaje de error si el campo es válido
          let errorMessage = element.nextElementSibling;
          if (errorMessage && errorMessage.classList.contains("invalid-feedback")) {
            errorMessage.textContent = "";
          }
        }
      }
      if (formIsValid) {
        if (submitForm(event)) {
          mostrarAlerta();
        }
      } else if (!formIsValid) {
        event.preventDefault(); // Evita el envío del formulario si no es válido
      }
    }

    function mostrarAlerta() {
      document.getElementById("miAlerta").style.display = "block"; // Despliega la alerta efectiva del envío
      document.getElementById("opacidad").style.display = "block"; // Oscurece el fondo
    }

    function cerrarAlerta() {
      document.getElementById("miAlerta").style.display = "none"; //Oculta la alerta
      document.getElementById("opacidad").style.display = "none"; // Reestablece el fondo
      location.reload(); // Refresca la página al momento de cerrar la alerta
      window.scrollTo(0, 0); // Lleva al punto más alto de la página
    }

    // Estilos CSS para resaltar campos inválidos
    const style = document.createElement('style');
    style.innerHTML = `
    .is-invalid{
      border-color:red;
    }
    .invalid-feedback{
      color: #dc3545;
      display: block;
      font-size: 12px;
      margin-top: 0.25rem;
    }`;
    document.head.appendChild(style);


    document.getElementById('phone').addEventListener('input', function (e) {
      let value = e.target.value.replace(/\s/g, ''); // Eliminar espacios
      value = value.replace(/[^0-9]/g, ''); // Eliminar cualquier carácter que no sea un dígito
      e.target.value = value;
    });

    document.getElementById('documento').addEventListener('input', function (e) {
      let value = e.target.value.replace(/\s/g, ''); // Eliminar espacios
      value = value.replace(/[^a-zA-Z0-9]/g, ''); // Eliminar solo letras y números
      value = value.replace(/\./g, '');// Eliminar puntos
      e.target.value = value;
    });

    document.getElementById('nombre').addEventListener('input', function (e) {
      let value = e.target.value;
      value = value.replace(/[^A-Za-zñáéíóúÑÁÉÍÓÚ\s]/g, ''); // Eliminar cualquier carácter que no sea una letra o espacio
      value = value.replace(/\s\s+/g, ' '); // Reemplazar múltiples espacios con un solo espacio
      value = value.replace(/^\s/, ''); // Eliminar cualquier espacio ingresado al inicio del campo
      e.target.value = value;
    });

    document.getElementById('Razon_social').addEventListener('input', function (e) {
      let value = e.target.value;
      value = value.replace(/[^A-Za-zñsñáéíóúüÑÁÉÍÓÚ\s]/g, ''); // Eliminar cualquier carácter que no sea una letra o espacio
      value = value.replace(/\s\s+/g, ' '); // Reemplazar múltiples espacios con un solo espacio
      value = value.replace(/^\s/, ''); // Eliminar cualquier espacio ingresado al inicio del campo
      e.target.value = value;
    });

    document.getElementById('Nombre_almacen').addEventListener('input', function (e) {
      let value = e.target.value;
      value = value.replace(/[^A-Za-zñsñáéíóúüÑÁÉÍÓÚ\s]/g, ''); // Eliminar cualquier carácter que no sea una letra o espacio
      value = value.replace(/\s\s+/g, ' '); // Reemplazar múltiples espacios con un solo espacio
      value = value.replace(/^\s/, ''); // Eliminar cualquier espacio ingresado al inicio del campo
      e.target.value = value;
    });

    document.getElementById('Correo').addEventListener('input', function (e) {
      let value = e.target.value.replace(/\s/g, ''); // Eliminar espacio
      value = value.replace(/\.+/g, '.');// Reemplazar dos puntos seguidos con un solo punto
      value = value.replace(/[^a-zA-Z0-9.@_-]/g, '');  // Eliminar cualquier carácter que no sea letra, número, ".", "-", "_", o "@"
      e.target.value = value;
    });

    // Llamada a la función al cargar la página
    checkOption();
    checkCanalOption();
    checkDepartamentoOption();
    checktipopqrsfOption();
    checktipodocOption();
    checkestadoOption();
    checkMotivoOption();
    valoresPredeterminadosAlCargar();
    cambiarColorSelects();


  </script>

</body>

</html>